<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Sleep Regularity Index • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Sleep Regularity Index">
<script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2-8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-the-book" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">The book</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-the-book">
<li><a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a></li>
    <li><a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a></li>
    <li><a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a></li>
    <li><a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a></li>
    <li><a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a></li>
    <li><a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a></li>
    <li><a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a></li>
    <li><a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a></li>
    <li><a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter13_CircadianRhythm.html">13. Circadian Rhythm Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter14_BehaviouralFragmentation.html">14. Behavioural Fragmentation</a></li>
  </ul>
</li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-annexes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Annexes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-annexes">
<li><a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a></li>
    <li><a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a></li>
    <li><a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a></li>
    <li><a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a></li>
    <li><a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a></li>
    <li><a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Cookbook.html">Cookbook</a></li>
    <li><a class="dropdown-item" href="../articles/DateTimeFormatsInR.html">Date and Time formats in R</a></li>
    <li><a class="dropdown-item" href="../articles/SleepRegularityIndex.html">Sleep Regularity Index</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-2-0/">Version 3.2-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-5/">Version 3.1-5</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-0/">Version 3.1-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-0-0/">Version 3.0-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-9-0/">Version 2.9-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-8-0/">Version 2.8-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-7-1/">Version 2.7-1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-6-0/">Version 2.6-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-5-0/">Version 2.5-0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Sleep Regularity Index</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/SleepRegularityIndex.Rmd" class="external-link"><code>vignettes/SleepRegularityIndex.Rmd</code></a></small>
      <div class="d-none name"><code>SleepRegularityIndex.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="what-is-sri">What is SRI?<a class="anchor" aria-label="anchor" href="#what-is-sri"></a>
</h2>
<p>The Sleep Regularity Index (SRI) was proposed by Phillips and
colleagues (<a href="https://doi.org/10.1038/s41598-017-03171-4" class="external-link">2017</a>) and further
developed and shared as open-source R package <a href="https://github.com/dpwindred/sleepreg" class="external-link">sleepreg</a> by Windred and
colleagues (<a href="https://doi.org/10.1093/sleep/zsab254" class="external-link">2021</a>).
The SRI can have a value between -100 and 100, where 100 reflects
perfect regularity (identical days), 0 reflects random pattern, and -100
reflects perfect reversed regularity in sleep.</p>
</div>
<div class="section level2">
<h2 id="multiple-implementations">Multiple implementations<a class="anchor" aria-label="anchor" href="#multiple-implementations"></a>
</h2>
<p>R package ‘sleepreg’ was tailored to GGIR 2.0-0 as available at the
time and does not work with more recent GGIR versions. We now know that
GGIR 2.0-0 came with various bugs and is best not used. Therefore, an
effort has been made to address this. Once the ‘sleepreg’ maintainers
accept the <a href="https://github.com/dpwindred/sleepreg/pull/10" class="external-link">proposed
changes</a>, it will upgrade the sleepreg package code to work with both
historical and later GGIR versions. In the mean time you can use the
proposed upgrade to package ‘sleepreg’ by installing it via R command:
<code>remotes::install_github("vincentvanhees/sleepreg", ref = "upgradeGGIRversion")</code>.</p>
<p>Complementary to this effort, GGIR offers two modified
implementations of SRI, which we refer to as SRI1 and SRI2. In this
Annex we discuss each aspect of their calculation and how they differ
from the original SRI calculation in ‘sleepreg’.</p>
<p>However, first we would like to list all aspects that all these
implementations have in common:</p>
<ul>
<li>SRI values are expressed on a scale from -100 to 100.</li>
<li>Detected non-wear is treated as missing data and this is accounted
for in the SRI calculation.</li>
<li>Calculations are done based on 30 second epochs. Even if GGIR is
configured to do its other analyses with a shorter epoch duration,
e.g. 5 seconds, GGIR makes sure that values are aggregated to 30 seconds
for the SRI calculation.</li>
<li>All implementations derive regularity between days that are defined
from noon to noon.</li>
</ul>
</div>
<div class="section level2">
<h2 id="regularity-of-what">Regularity of what?<a class="anchor" aria-label="anchor" href="#regularity-of-what"></a>
</h2>
<div class="section level3">
<h3 id="sri-as-derived-with-github-comdpwindredsleepreg">SRI as derived with github.com/dpwindred/sleepreg<a class="anchor" aria-label="anchor" href="#sri-as-derived-with-github-comdpwindredsleepreg"></a>
</h3>
<p>In ‘sleepreg’, ‘Sleep’ is by default defined as the combination
of:</p>
<ul>
<li>GGIR detected sleep period time window minus WASO episodes that last
at least 30 minutes.</li>
<li>Any 30 minute interval outside the GGIR_detect sleep period time
window with 95% or more sustained inactivity bout. This intervals are
assumed to equal naps.</li>
</ul>
<p>The ‘sleepreg’ package comes various options to modify the
configuration of the calculation as discussed in the package
documentation and in the supplementary materials to <a href="https://doi.org/10.1093/sleep/zsab254" class="external-link">Windred et
al. 2021</a>.</p>
</div>
<div class="section level3">
<h3 id="sri1-as-stored-in-ggir-part-4">SRI1 as stored in GGIR part 4<a class="anchor" aria-label="anchor" href="#sri1-as-stored-in-ggir-part-4"></a>
</h3>
<p>In SRI1, ‘Sleep’ is defined as all <a href="https://wadpac.github.io/GGIR/articles/chapter8_SleepFundamentalsSibs.html">sustained
inactivity bouts</a>, which can optionally be smoothed with a rolling
average window. The rolling window size in hours is specified with
parameter <code>SRI1_smoothing_wsize_hrs</code>, and the fraction of
time that is needed to be sustained inactivity bout is set with
parameter <code>SRI1_smoothing_frac</code>.</p>
<p>The advantage of this calculation is that it does not rely on hard
assumptions about accurate detection of sleep and naps by GGIR. However,
SRI1 with default non-smoothing settings may need to be interpreted as a
rest regularity index. Only when using the smoothing parameters SRI1 may
better reflect a true indicator of sleep regularity.</p>
<p>SRI1 is calculated in GGIR part 3 and stored in the csv-output of
GGIR part 4.</p>
</div>
<div class="section level3">
<h3 id="sri2-as-optionally-stored-in-ggir-part-6">SRI2 as optionally stored in GGIR part 6<a class="anchor" aria-label="anchor" href="#sri2-as-optionally-stored-in-ggir-part-6"></a>
</h3>
<p>GGIR offers experimental functionality to classify daytime naps,
which is subject to ongoing investigation in young population of
pre-schoolers. We are still looking for community support to help
improve and evaluate the nap detection for adult populations. Please
reach out (v.vanhees at acceleting dot com) if you would be interested
in applying for funding or have funding and want to sponsor this
development. Once the nap detection functionality has matured we will
document it more elaborately. However, if you have been helping to
explore the nap detection and are confident that GGIR classifies both
sleep and naps accurately, e.g. after inspecting the visual reports,
then SRI2 would be superior over SRI1 as measure of sleep
regularity.</p>
<p>In SRI2, ‘Sleep’ is defined as all sleep classified with GGIR part 4,
minus WASO, plus daytime naps as classified in GGIR part 5.</p>
<p>SRI2 comes with parameter <code>SRI2_WASOmin</code> which allows us
to define the minimum WASO length to be considered, any WASO shorter
than this will be ignored and treated as sleep. In part 6, SRI is only
derived when parameter <code>SRI2_WASOmin</code> is specified. If no nap
parameters are set the resulting SRI estimate will only reflect the main
SPT window in the day.</p>
</div>
</div>
<div class="section level2">
<h2 id="at-what-resolution-is-sri-calculated">At what resolution is SRI calculated?<a class="anchor" aria-label="anchor" href="#at-what-resolution-is-sri-calculated"></a>
</h2>
<div class="section level3">
<h3 id="sri-as-derived-with-github-comdpwindredsleepreg-1">SRI as derived with github.com/dpwindred/sleepreg<a class="anchor" aria-label="anchor" href="#sri-as-derived-with-github-comdpwindredsleepreg-1"></a>
</h3>
<p>In the initial publication by Phillips 2017 it was proposed to only
calculate SRI based on seven, or a multitude of seven, consecutive days
of data without missing values. This to avoid a possible role of
imbalanced data to the final estimate. However, this renders many
datasets unsuitable for analysis and leads to a painful loss in sample
size and statistical power. This was improved upon by Windred 2021,
which allows for gaps in data. Next, SRI is calculated as one value
across all valid days in the recording.</p>
</div>
<div class="section level3">
<h3 id="sri1-and-sri2-in-ggir">SRI1 and SRI2 in GGIR<a class="anchor" aria-label="anchor" href="#sri1-and-sri2-in-ggir"></a>
</h3>
<p>GGIR calculates and stores the SRI per day-pair.</p>
<p>The benefit of the approach taken in GGIR is that it enables the user
to study the day-pair to day-pair variation in SRI, and the role of
day-pair inclusion criteria. Further, the access to SRI at day-pair
level makes it possible to account for an imbalanced datasets via
multilevel regression analysis applied to the output of GGIR, with
day-pair as one of the model levels.</p>
</div>
</div>
<div class="section level2">
<h2 id="what-level-of-nonwear-is-acceptable">What level of nonwear is acceptable?<a class="anchor" aria-label="anchor" href="#what-level-of-nonwear-is-acceptable"></a>
</h2>
<div class="section level3">
<h3 id="sri-as-derived-with-github-comdpwindredsleepreg-2">SRI as derived with github.com/dpwindred/sleepreg<a class="anchor" aria-label="anchor" href="#sri-as-derived-with-github-comdpwindredsleepreg-2"></a>
</h3>
<p>Entire days are ignored when there are more than 6 hours of
nonwear.</p>
</div>
<div class="section level3">
<h3 id="sri1-and-sri2-in-ggir-1">SRI1 and SRI2 in GGIR<a class="anchor" aria-label="anchor" href="#sri1-and-sri2-in-ggir-1"></a>
</h3>
<p>Per day-pair GGIR calculates the fraction of the 30 second
epoch-pairs between both days that are valid, which can be found in the
GGIR part 4 output under the variable name
<code>SriFractionValid</code>.</p>
<p>By default, day-pairs are excluded if this fraction is below 0.66 or
if the fraction of valid data for the individual day is below 0.66. This
threshold is coupled with the 16-hour default value for parameter
<code>includenightcrit</code> (16/24 = 0.66). For example, if you set
parameter <code>includenightcrit = 12</code>, the fraction threshold
will be: <code>12 / 24 = 0.5</code>.</p>
<p>The benefit of the approach taking by GGIR is that it looks at both
the completeness of matching data points between day pairs and data
completeness in the day itself.</p>
</div>
</div>
<div class="section level2">
<h2 id="where-to-find-sri-in-the-ggir-output">Where to find SRI in the GGIR output?<a class="anchor" aria-label="anchor" href="#where-to-find-sri-in-the-ggir-output"></a>
</h2>
<div class="section level3">
<h3 id="sri1-as-stored-in-ggir-part-4-1">SRI1 as stored in GGIR part 4<a class="anchor" aria-label="anchor" href="#sri1-as-stored-in-ggir-part-4-1"></a>
</h3>
<p>The day-pair level estimates are stored as variable
<code>SleepRegularityIndex1</code> in the GGIR part 4 .csv-report on
sleep. Further, GGIR also stores the person-level aggregates such as:
the plain average over all valid days, the average of all valid weekend
days, and the average of all valid week days. No GGIR input arguments
are needed to invoke the SRI calculation in part 3. The calculation is
automatically performed after updating GGIR and processing your
data.</p>
</div>
<div class="section level3">
<h3 id="sri2-as-optionally-stored-in-ggir-part-6-1">SRI2 as optionally stored in GGIR part 6<a class="anchor" aria-label="anchor" href="#sri2-as-optionally-stored-in-ggir-part-6-1"></a>
</h3>
<p>SRI2 estimates are stored as variable
<code>SleepRegularityIndex2</code> in the GGIR part 6 output.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
