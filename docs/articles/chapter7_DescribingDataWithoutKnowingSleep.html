<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>7. Describing the Data Without Knowing Sleep • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="7. Describing the Data Without Knowing Sleep">
<script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2-8</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-the-book" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">The book</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-the-book">
<li><a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a></li>
    <li><a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a></li>
    <li><a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a></li>
    <li><a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a></li>
    <li><a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a></li>
    <li><a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a></li>
    <li><a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a></li>
    <li><a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a></li>
    <li><a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter13_CircadianRhythm.html">13. Circadian Rhythm Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter14_BehaviouralFragmentation.html">14. Behavioural Fragmentation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-annexes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Annexes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-annexes">
<li><a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a></li>
    <li><a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a></li>
    <li><a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a></li>
    <li><a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a></li>
    <li><a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a></li>
    <li><a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Cookbook.html">Cookbook</a></li>
    <li><a class="dropdown-item" href="../articles/DateTimeFormatsInR.html">Date and Time formats in R</a></li>
    <li><a class="dropdown-item" href="../articles/SleepRegularityIndex.html">Sleep Regularity Index</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-2-0/">Version 3.2-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-5/">Version 3.1-5</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-0/">Version 3.1-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-0-0/">Version 3.0-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-9-0/">Version 2.9-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-8-0/">Version 2.8-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-7-1/">Version 2.7-1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-6-0/">Version 2.6-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-5-0/">Version 2.5-0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>7. Describing the Data Without Knowing Sleep</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/chapter7_DescribingDataWithoutKnowingSleep.Rmd" class="external-link"><code>vignettes/chapter7_DescribingDataWithoutKnowingSleep.Rmd</code></a></small>
      <div class="d-none name"><code>chapter7_DescribingDataWithoutKnowingSleep.Rmd</code></div>
    </div>

    
    
<p>With the metric values imputed in the previous chapter, GGIR part 2
offers a first descriptive analysis of the data. Although we will have
to wait till later GGIR parts (chapters) to see the segmentation of days
in waking and sleep hours, there is already enough that can be
quantified at this point. In this chapter we focus on descriptive
analysis of the data that are informative even without the knowledge on
when the participant was sleeping or awake.</p>
<div class="section level2">
<h2 id="data-quality-indicators">Data quality indicators<a class="anchor" aria-label="anchor" href="#data-quality-indicators"></a>
</h2>
<p>GGIR part 2 summarises all the data quality checks done in the
previous four chapters, ranging from a report on the successfulness of
the auto-calibration procedure to the number of valid days. In this way,
GGIR part 2 is an ideal place to start for data quality assurance.</p>
</div>
<div class="section level2">
<h2 id="basic-descriptives">Basic descriptives<a class="anchor" aria-label="anchor" href="#basic-descriptives"></a>
</h2>
<p>Descriptive variables are calculated and reported for valid days
only, where the criteria for valid day is defined by parameter
<code>includedaycrit</code>.</p>
<div class="section level3">
<h3 id="average-acceleration">Average acceleration<a class="anchor" aria-label="anchor" href="#average-acceleration"></a>
</h3>
<p>Average acceleration is known to be correlated with the total
activity-related energy expenditure. GGIR part 2 provide two types of
average acceleration:</p>
<ul>
<li><p>Average per day, only stored when the day was considered valid.
Note that this descriptive and most other descriptives are also stored
by GGIR as averages across all days, weekend days, or weekdays, which we
will discuss in more detail later on.</p></li>
<li><p>Weighted average of all valid data points in the recording,
weighted by timing in the day of all valid epochs, regardless of whether
they come from days that as a whole are classified as valid or
not.</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="acceleration-distribution">Acceleration distribution<a class="anchor" aria-label="anchor" href="#acceleration-distribution"></a>
</h3>
<p>The distribution of acceleration values can be informative too. GGIR
facilitates this in two ways:</p>
<ol style="list-style-type: decimal">
<li><p>By specifying the quantiles of the distribution with parameter
<code>qlevels</code>, which are fed to the base R function
<code>quantile</code>, GGIR gives us the acceleration metric values
corresponding to such quantiles (a quantile multiplied by 100 is the
same as a percentile).</p></li>
<li><p>By describing the time spent in acceleration ranges, which are
defined by parameter <code>ilevels</code> .</p></li>
</ol>
<p>The distribution of acceleration values is often referred to as
intensity distribution in the physical activity literature.</p>
</div>
</div>
<div class="section level2">
<h2 id="derived-descriptives">Derived descriptives<a class="anchor" aria-label="anchor" href="#derived-descriptives"></a>
</h2>
<div class="section level3">
<h3 id="sets-of-quantiles-mx-metrics-by-rowlands-et-al-">Sets of quantiles (MX metrics by <a href="https://pubmed.ncbi.nlm.nih.gov/29360664/" class="external-link">Rowlands et
al.</a>)<a class="anchor" aria-label="anchor" href="#sets-of-quantiles-mx-metrics-by-rowlands-et-al-"></a>
</h3>
<p>The quantiles, as discussed above, can be used to describe the
accelerations that participants exceed in their most active “X”
accumulated minutes in a day. In the specific approach, as proposed by
<a href="https://pubmed.ncbi.nlm.nih.gov/31808014/" class="external-link">Rowlands et al.</a>,
these quantiles are referred to as the <strong>MX metrics</strong>. The
MX metrics should not be confused with the most active continuous X
hours, e.g. M10, as used in circadian rhythm research that also can be
derived with GGIR (see parameter <code>winhr</code>).</p>
<p>To use the MX metrics as proposed by Rowlands et al., specify the
durations of the 24h day during which you want to identify the
accelerations values. For example, to generate the minimum acceleration
value for the most active accumulated 30 minutes, you can call
<code>qlevels = (1410/1440)</code>. This parameter also accepts a vector
to generate multiple MX metrics. For example, to call M60, M30, and M10,
you can specify the following:</p>
<p><code>qlevels = c(c(1380/1440), c(1410/1440), c(1430/1440))</code>.</p>
<p>Note: If time segments shorter than 24 hours are specified in
parameter <code>qwindow</code>, such as the 8-hour school day (as
described in <a href="https://pubmed.ncbi.nlm.nih.gov/31593604/" class="external-link">Fairclough et al
2020</a>), the denominator in <code>qlevels</code> should change from
1440 (24h) to the specific segment length. In this example, we would use
480 (8h). Accordingly, the argument to call M60, M30, and M10 would
be:</p>
<p><code>qlevels = c(c(420/480), c(450/480), c(470/480))</code>.</p>
<p>At the moment, this only works for one segment length and GGIR does
not facilitate the generation of MX metrics for multiple unequal time
segments within the same GGIR function call.</p>
<p>The output in the part 2 summary report file will refer to this as a
percentile of the day. Thus, for a 24-h day, M30 will appear as
“p97.91666_ENMO_mg_0.24hr”. To create the radar plots of these MX
metrics as first described by <a href="https://pubmed.ncbi.nlm.nih.gov/31808014/" class="external-link">Rowlands et al.</a>,
this <a href="https://github.com/Maylor8/RadarPlotGenerator" class="external-link">GitHub
repository</a> provides the R code and detailed instructions on how to
make the radar plots using your own data.</p>
</div>
<div class="section level3">
<h3 id="intensity-gradient">Intensity gradient<a class="anchor" aria-label="anchor" href="#intensity-gradient"></a>
</h3>
<p>If we plot the time spent in equally spaced acceleration ranges, we
would end up with an asymptotic-shaped curve, indicating little time
spent at high intensities (acceleration levels) and much time spent at
low intensities. The shape of the distribution may be informative but is
hard to quantify with a single number in its standard form. Therefore, a
new concept called the intensity gradient was proposed by <a href="https://pubmed.ncbi.nlm.nih.gov/29360664/" class="external-link">Rowlands and
colleagues</a>.</p>
<p>The intensity gradient defines the slope of the log-transformed axes
of this intensity distribution. More specifically, we calculate the time
accumulated in incremental acceleration bins (bin size = 25 m<em>g</em>)
but also keep track of the mid-point of each intensity bin, e.g. 62.5
m<em>g</em> for the bin ranging from 50 to 75 m<em>g</em>. Both the
mid-point acceleration of a bin expressed in m<em>g</em> and the time
spent in a bin expressed in minutes are then log-transformed. The
log-transformation is expected to change the asymptotic-shaped curve
into a straight line. Subsequently, a linear regression is fitted
through these data points. The slope of this regression line represents
the intensity gradient. Further, we calculate the correlation
coefficient for the data points to help verify the degree to which they
form a straight line (R^2).</p>
<p>The intensity gradient is not calculated by default. To include this
metric in the part 2 output, set <code>iglevels = TRUE</code>.</p>
<p>Further, if you want to do more methodological research on this, you
can use this parameter to define alternative acceleration bins, e.g. for
using bins of 20 instead of 25 mg
<code>iglevels = c(seq(0, 4000, by = 20), 8000)</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="key-arguments">Key arguments<a class="anchor" aria-label="anchor" href="#key-arguments"></a>
</h2>
<ul>
<li><p><code>includedaycrit</code></p></li>
<li><p><code>ilevels</code></p></li>
<li><p><code>qlevels</code></p></li>
<li><p><code>iglevels</code></p></li>
<li><p><code>qwindow</code></p></li>
<li><p><code>do.report</code></p></li>
</ul>
</div>
<div class="section level2">
<h2 id="related-output">Related output<a class="anchor" aria-label="anchor" href="#related-output"></a>
</h2>
<p>GGIR part 2 generates three csv reports: part2_daysummary.csv,
part2_summary.csv, and data_quality_report.csv. As
data_quality_report.csv was discussed in chapter 3, we will focus only
on the first two reports in this chapter.</p>
<p>The variables in part2_summary.csv are the recording level aggregates
of the variables in part2_daysummary.csv. Here, variable names starting
with the “AD_” refer to average across all days, “WD” refers to the
average across weekdays, “WE” refers to the average across weekend days,
“WWE” refers to weighted weekend days to ensure both weekend days
contribute equally, “WWD” refers to weighted weekdays to ensure all
weekdays contribute equally.</p>
<p>Further, GGIR part 2 generates a report named
part2_daysummary_longformat.csv, which is generated when GGIR is used
for day segment analysis, see documentation for parameter
<code>qwindow</code>. This report contains the exact same information as
part2_daysummary.csv, but in long format instead of wide format. In
part2_daysummary_longformat.csv, each row represents one segment from
one day in one recording, while in part2_daysummary.csv, each row
contains one day in one recording and the segments of the day are
organised in different columns.</p>
<div class="section level3">
<h3 id="descriptive-variables">Descriptive variables<a class="anchor" aria-label="anchor" href="#descriptive-variables"></a>
</h3>
<table class="table">
<caption>To clarify that <code>b</code> refers to both part2_summary.csv
and part2_daysummary.csv, <code>r</code> refers to part2_summary.csv
only.</caption>
<colgroup>
<col width="27%">
<col width="47%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th>(Part of) variable name</th>
<th>Description</th>
<th>Report(s)</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>mean_ENMO_mg_0-24hr</td>
<td>average acceleration defined by metric ENMO for the full day</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ENMO_fullRecordingMean</td>
<td>Weighted average over acceleration across recording</td>
<td><code>r</code></td>
</tr>
<tr class="odd">
<td>p20_ENMO_mg_0-24h</td>
<td>20th percentile based on the full day</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>p20_ENMO_mg_0-24h_fullRecording</td>
<td>20th percentile based on the weighted average day from the full
recording</td>
<td><code>r</code></td>
</tr>
<tr class="odd">
<td>[0,50)_ENMO_mg_0-24hr</td>
<td>time spent in minutes between 0 and 50 m_g_ acceleration defined by
metric ENMO for the full day. Square bracket means that the value itself
is included, round bracket indicated that value itself is not
included</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ig_gradient_ENMO_0-24hr</td>
<td>Gradient for the intensity gradient</td>
<td><code>b</code></td>
</tr>
<tr class="odd">
<td>ig_intercept_ENMO_0-24hr</td>
<td>Intercept for the intensity gradient</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>ig_rsquared_ENMO_0-24hr</td>
<td>R-squared for the intensity gradient</td>
<td><code>b</code></td>
</tr>
</tbody>
</table>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
