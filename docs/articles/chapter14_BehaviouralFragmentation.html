<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>14. Behavioural fragmentation • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="14. Behavioural fragmentation">
<script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.1-6</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-the-book" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">The book</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-the-book">
<li><a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a></li>
    <li><a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a></li>
    <li><a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a></li>
    <li><a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a></li>
    <li><a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a></li>
    <li><a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a></li>
    <li><a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a></li>
    <li><a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a></li>
    <li><a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter13_CircadianRhythm.html">13. Circadian Rhythm Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter14_BehaviouralFragmentation.html">14. Behavioural Fragmentation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-annexes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Annexes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-annexes">
<li><a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a></li>
    <li><a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a></li>
    <li><a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a></li>
    <li><a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a></li>
    <li><a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a></li>
    <li><a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Cookbook.html">Cookbook</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-1-0/">Version 3.1-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-3-0-0/">Version 3.0-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-9-0/">Version 2.9-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-8-0/">Version 2.8-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-7-1/">Version 2.7-1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-6-0/">Version 2.6-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/updates/ggir-release-2-5-0/">Version 2.5-0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/RpackageGGIR" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>14. Behavioural fragmentation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/chapter14_BehaviouralFragmentation.Rmd" class="external-link"><code>vignettes/chapter14_BehaviouralFragmentation.Rmd</code></a></small>
      <div class="d-none name"><code>chapter14_BehaviouralFragmentation.Rmd</code></div>
    </div>

    
    
<p>In chapters 8, 9, and 10 we discussed the classification of sleep and
in chapter 11 we discussed the classification of daytime physical
behavioural classes. These are typically reported as time spent per
behavioural class. An complementary way of describing the data is by
looking at the fragmentation of these behaviours of time.</p>
<div class="section level2">
<h2 id="defining-fragments">Defining fragments<a class="anchor" aria-label="anchor" href="#defining-fragments"></a>
</h2>
<p>In GGIR, a fragment for daytime is a defined as a sequence of epochs
that belong to one of the four categories:</p>
<ol style="list-style-type: decimal">
<li>Inactivity</li>
<li>Light Physical Activity (LIPA)</li>
<li>Moderate or Vigorous Physical Acitivty (MVPA)</li>
<li>Physical activity (can be either LIPA or MVPA)</li>
</ol>
<p>Each of these categories represents the combination of bouted and
unbouted time in the respective categories. Inactivity and physical
activity add up to a full day (outside SPT), as well as inactivity, LIPA
and MVPA.</p>
<p>A fragment of SPT is defined as a sequence of epochs that belong to
one of the four categories:</p>
<ol style="list-style-type: decimal">
<li>Estimated sleep</li>
<li>Estimated wakefulness</li>
<li>Inactivity</li>
<li>Physical activity (can be either LIPA or MVPA)</li>
</ol>
<p>With parameter <code>frag.metrics = "all"</code> we can instruct GGIR
part 5 to derive behavioural fragmentation metrics. You may want to
consider combining this with parameter
<code>part5_agg2_60seconds=TRUE</code> as that will aggregate the time
series to 1 minute resolution as is common in behavioural fragmentation
literature. GGIR part 6 performs fragmentation analysis when
<code>part6CR</code> is set to <code>TRUE</code>. For this it uses the
time series output generated in part 5 as discussed in the <a href="https://wadpac.github.io/GGIR/articles/chapter12_TimeUseAnalysis.html#exporting-time-series">previous
chapter</a>.</p>
<p>GGIR derives fragmentation metrics in two ways:</p>
<ul>
<li>In part 5 fragmentation is quantified per waking hours of the day
and reported per day and as recording average of the daily
estimates.</li>
<li>In part 6 fragmentation is quantified based on all data in the
recording within the window as specifed by parameter
<code>part6Window</code>.</li>
</ul>
<p>Calculation per day allows us to explore and possibly account for
behavioural differences between days of the week. However, a day level
estimate could be considered less robust than the recording level
estimates as generated in part 6.</p>
<p>The in internal function <code>g.fragmentation</code> for
fragmentation metric calculation is used in both part 5 and 6 ensuring
that the calculation are otherwise consistent.</p>
</div>
<div class="section level2">
<h2 id="fragmentation-metrics">Fragmentation metrics<a class="anchor" aria-label="anchor" href="#fragmentation-metrics"></a>
</h2>
<p>Note that from the fragmentation metrics discussed below only
fragmentation metrics <code>TP</code> and <code>NFrag</code> are
calculated for the SPT fragments.</p>
<ul>
<li><p>Coefficient of Variance (<code>CoV</code>) is calculated
according to <a href="https://doi.org/10.1016/j.apmr.2014.08.023" class="external-link">Blikman et
al. 2014</a>, which entails dividing the standard deviation by the mean
lognormal transformed fragment length (minutes).</p></li>
<li><p>Transition probability (<code>TP</code>) from Inactivity (IN) to
Physical activity (IN2PA), from Physical activity to inactivity (PA2IN),
and from IN to LIPA or MVPA are all calculated according to <a href="https://doi.org/10.1186/s12874-024-02255-w" class="external-link">Danilevicz et
al. 2024</a>.</p></li>
<li><p>Gini index is calculated with function <code>Gini</code> from the
<code>ineq</code> R package, and with <code>ineq</code> argument
<code>corr</code> set to TRUE.</p></li>
<li><p>Power law exponent metrics: Alpha, x0.5, and W0.5 are calculated
according to <a href="https://doi.org/10.1016/j.gaitpost.2009.09.002" class="external-link">Chastin et
al. 2010</a>. Note that compared with R package ActFrag as described in
<a href="https://www.biorxiv.org/content/10.1101/182337v1" class="external-link">Junrui Di et
al. 2017</a> we we use the theoretical minimum fragment duration instead
of the observed minimum fragment duration.</p></li>
<li><p>Number of fragment per minutes (<code>NFragPM</code>) is
calculated identical to metric <code>fragmentation index</code> in <a href="https://academic.oup.com/ageing/article/41/1/111/46538" class="external-link">Chastin et
al. 2012</a>, but it is renamed here to be a more specific reflection of
the calculation. The term <code>fragmentation index</code> appears too
generic given that all fragmentation metrics inform us about
fragmentation. Please note that this is close to the metrics for
transition probability, because total number divided by total sum in
duration equals 1 divided by average duration. Although the exact math
is slightly different.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="conditions-for-calculation">Conditions for calculation<a class="anchor" aria-label="anchor" href="#conditions-for-calculation"></a>
</h2>
<ul>
<li><p>Metrics <code>Gini</code> and <code>CoV</code> are only
calculated if there are at least 10 fragments (e.g. 5 inactive and 5
active). If this condition is not met the metric value will be set to
missing.</p></li>
<li><p>Metrics related to power law exponent alpha are also only
calculated when there are at least 10 fragments, but with the additional
condition that the standard deviation in fragment duration is not zero.
If these conditions are not met the metric value will be set to
missing.</p></li>
<li><p>Other metrics related to binary fragmentation
(<code>mean_dur_PA</code> and <code>mean_dur_IN</code>), are calculated
when there are at least 2 fragments (1 inactive, 1 active). If this
condition is not met the value will is set to zero.</p></li>
<li><p>Metrics related to <code>TP</code> are calculated if: There is at
least 1 inactivity fragment AND (1 LIPA OR 1 MVPA fragment). If this
condition is not met the <code>TP</code> metric value is set to
zero.</p></li>
</ul>
<p>To keep an overview of which recording days met the criteria for
non-zero standard deviation and at least ten fragments, GGIR part 5
stores variable <code>Nvaliddays_AL10F</code> at person level (i.e.,
number of valid days with at least 10 fragments), and
<code>SD_dur</code> (i.e., standard deviation of fragment durations) at
day level as well as aggregated per person.</p>
</div>
<div class="section level2">
<h2 id="key-parameters">Key parameters<a class="anchor" aria-label="anchor" href="#key-parameters"></a>
</h2>
<p>The parameters related to cut-points and bout detection are mainly
the parameters listed under <a href="https://wadpac.github.io/GGIR/articles/GGIRParameters.html#physical-activity-parameters">“Physical
activity parameters”</a>.</p>
</div>
<div class="section level2">
<h2 id="related-output">Related output<a class="anchor" aria-label="anchor" href="#related-output"></a>
</h2>
<p>In GGIR part 5 csv reports you will find:</p>
<ul>
<li>Fragmentation metrics at day level per waking hours of the day</li>
</ul>
<p>In GGIR part 6 csv report you will find:</p>
<ul>
<li>Fragmentation metrics</li>
</ul>
<p>For an overview of output variables see the <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">GGIR
output annex</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
