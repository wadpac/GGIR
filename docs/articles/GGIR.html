<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Accelerometer data processing with GGIR • GGIR</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Accelerometer data processing with GGIR">
<script defer data-domain="pkgdown.r-lib.org,all.tidyverse.org" src="https://plausible.io/js/plausible.js"></script>
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GGIR</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.3-4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-the-book" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">The book</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-the-book">
<li><a class="dropdown-item" href="../articles/chapter1_WhatIsGGIR.html">1. What is GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/chapter2_Pipeline.html">2. The GGIR Pipeline</a></li>
    <li><a class="dropdown-item" href="../articles/chapter3_QualityAssessment.html">3. Data Quality Assurance</a></li>
    <li><a class="dropdown-item" href="../articles/chapter4_AccMetrics.html">4. From Raw Data to Acceleration Metrics</a></li>
    <li><a class="dropdown-item" href="../articles/chapter5_StudyProtocol.html">5. Accounting for Study Protocol</a></li>
    <li><a class="dropdown-item" href="../articles/chapter6_DataImputation.html">6. How GGIR Deals with Invalid Data</a></li>
    <li><a class="dropdown-item" href="../articles/chapter7_DescribingDataWithoutKnowingSleep.html">7. Describing the Data Without Knowing Sleep</a></li>
    <li><a class="dropdown-item" href="../articles/chapter8_SleepFundamentalsSibs.html">8. Sleep Fundamentals - Sustained Inactivity Bout Detection (SIB)</a></li>
    <li><a class="dropdown-item" href="../articles/chapter9_SleepFundamentalsGuiders.html">9. Sleep Fundamentals - Guiding Sleep Detection</a></li>
    <li><a class="dropdown-item" href="../articles/chapter10_SleepAnalysis.html">10. Sleep Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter11_DescribingDataCutPoints.html">11. Physical Activity Fundamentals - Describing the data with cut-points</a></li>
    <li><a class="dropdown-item" href="../articles/chapter12_TimeUseAnalysis.html">12. Time-Use Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter13_CircadianRhythm.html">13. Circadian Rhythm Analysis</a></li>
    <li><a class="dropdown-item" href="../articles/chapter14_BehaviouralFragmentation.html">14. Behavioural Fragmentation</a></li>
  </ul>
</li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-annexes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Annexes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-annexes">
<li><a class="dropdown-item" href="../articles/GGIRParameters.html">GGIR Parameters</a></li>
    <li><a class="dropdown-item" href="../articles/GGIRoutput.html">GGIR Output</a></li>
    <li><a class="dropdown-item" href="../articles/readmyacccsv.html">Reading csv files with raw data</a></li>
    <li><a class="dropdown-item" href="../articles/ExternalFunction.html">Embedding external functions in GGIR</a></li>
    <li><a class="dropdown-item" href="../articles/CutPoints.html">Published cut-points and how to use them</a></li>
    <li><a class="dropdown-item" href="../articles/TutorialDaySegmentAnalyses.html">Day-segment analyses</a></li>
    <li><a class="dropdown-item" href="../articles/HouseHoldCoanalysis.html">Household co-analysis</a></li>
    <li><a class="dropdown-item" href="../articles/Cookbook.html">Cookbook</a></li>
    <li><a class="dropdown-item" href="../articles/DateTimeFormatsInR.html">Date and Time formats in R</a></li>
    <li><a class="dropdown-item" href="../articles/SleepRegularityIndex.html">Sleep Regularity Index</a></li>
    <li><a class="dropdown-item" href="../articles/NapDetection.html">Nap Detection</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Installation.html">Installation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_GetStarted.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><h6 class="dropdown-header" data-toc-skip>Releases</h6></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-3-0/">Version 3.3-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-2-6/">Version 3.2-6</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-2-0/">Version 3.2-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-5/">Version 3.1-5</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-1-0/">Version 3.1-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-3-0-0/">Version 3.0-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-9-0/">Version 2.9-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-8-0/">Version 2.8-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-7-1/">Version 2.7-1</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-6-0/">Version 2.6-0</a></li>
    <li><a class="external-link dropdown-item" href="https://www.accelting.com/ggir-release-2-5-0/">Version 2.5-0</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Contributing.html">Contributing</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/chapter0_Support.html">Need help?</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/wadpac/GGIR/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Accelerometer data processing with GGIR</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/wadpac/GGIR/blob/HEAD/vignettes/GGIR.Rmd" class="external-link"><code>vignettes/GGIR.Rmd</code></a></small>
      <div class="d-none name"><code>GGIR.Rmd</code></div>
    </div>

    
    
<p><img src="GGIR-MASTERLOGO-RGB.png" class="r-plt" alt="GGIR logo" width="60%" style="border: 0; padding:20px"></p>
<p><strong>NOTE: With the growing amount of functionality in GGIR we
have decided to migrate the narrative documentation to the <a href="https://wadpac.github.io/GGIR/">GitHub pages of GGIR</a>. This to
ease maintenance and accessibility. Therefore, many of the sections in
this vignette have been replaced by a link to their new
location.</strong></p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<div class="section level3">
<h3 id="what-is-ggir">What is GGIR?<a class="anchor" aria-label="anchor" href="#what-is-ggir"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter1_WhatIsGGIR.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<p><strong>Cite GGIR:</strong></p>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/authors.html#citation">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="contributing-support-and-keeping-up-to-date">Contributing, Support, and Keeping up to date<a class="anchor" aria-label="anchor" href="#contributing-support-and-keeping-up-to-date"></a>
</h3>
</div>
</div>
<div class="section level2">
<h2 id="setting-up-your-work-environment">Setting up your work environment<a class="anchor" aria-label="anchor" href="#setting-up-your-work-environment"></a>
</h2>
<div class="section level3">
<h3 id="install-r-and-rstudio">Install R and RStudio<a class="anchor" aria-label="anchor" href="#install-r-and-rstudio"></a>
</h3>
</div>
<div class="section level3">
<h3 id="prepare-folder-structure">Prepare folder structure<a class="anchor" aria-label="anchor" href="#prepare-folder-structure"></a>
</h3>
</div>
<div class="section level3">
<h3 id="ggir-shell-function">GGIR shell function<a class="anchor" aria-label="anchor" href="#ggir-shell-function"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter2_Pipeline.html#the-ggir-function">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="key-general-arguments">Key general arguments<a class="anchor" aria-label="anchor" href="#key-general-arguments"></a>
</h4>
<p>You will probably never need to think about most of the arguments
listed above, because a lot of arguments are only included to facilitate
methodological studies where researchers want to have control over every
little detail. See previous paragraph for links to the documentation and
how to find the default value of each parameter.</p>
<p>The bare minimum input needed for <code>GGIR</code> is:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/wadpac/GGIR/" class="external-link">GGIR</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/GGIR.html">GGIR</a></span><span class="op">(</span>datadir<span class="op">=</span><span class="st">"C:/mystudy/mydata"</span>,</span>
<span> outputdir<span class="op">=</span><span class="st">"D:/myresults"</span><span class="op">)</span></span></code></pre></div>
<p>Argument <code>datadir</code> allows you to specify where you have
stored your accelerometer data and <code>outputdir</code> allows you to
specify where you would like the output of the analyses to be stored.
This cannot be equal to <code>datadir</code>. If you copy paste the
above code to a new R script (file ending with .R) and Source it in
R(Studio) then the dataset will be processed and the output will be
stored in the specified output directory.</p>
<p>Below we have highlighted the key arguments you may want to be aware
of. We are not giving a detailed explanation, please see the package
manual for that.</p>
<ul>
<li>
<code>mode</code> - which part of GGIR to run, GGIR is constructed
in five parts with a sixth part under development.</li>
<li>
<code>overwrite</code> - whether to overwrite previously produced
milestone output. Between each GGIR part, GGIR stores milestone output
to ease re-running parts of the pipeline.</li>
<li>
<code>idloc</code> - tells GGIR where to find the participant ID
(default: inside file header)</li>
<li>
<code>data_masking_strategy</code> - informs GGIR how to consider
the design of the experiment.
<ul>
<li>If <code>data_masking_strategy</code> is set to value 1, then check
out arguments <code>hrs.del.start</code> and
<code>hrs.del.end</code>.</li>
<li>If <code>data_masking_strategy</code> is set to value 3 or 5, then
check out arguments <code>ndayswindow</code>, <code>hrs.del.start</code>
and <code>hrs.del.end</code>.</li>
</ul>
</li>
<li>
<code>maxdur</code> - maximum number of days you expect in a data
file based on the study protocol.</li>
<li>
<code>desiredtz</code> - time zone of the experiment.</li>
<li>
<code>chunksize</code> - a way to tell GGIR to use less memory,
which can be useful on machines with limited memory.</li>
<li>
<code>includedaycrit</code> - tell GGIR how many hours of valid data
per day (midnight-midnight) is acceptable.</li>
<li>
<code>includenightcrit</code> - tell GGIR how many hours of a valid
night (noon-noon) is acceptable.</li>
<li>
<code>qwindow</code> - argument to tell GGIR whether and how to
segment the day for day-segment specific analysis.</li>
<li>
<code>mvpathreshold</code> and <code>boutcriter</code> -
acceleration threshold and bout criteria used for calculating time spent
in MVPA (only used in GGIR part2).</li>
<li>
<code>epochvalues2csv</code> - to export epoch level magnitude of
acceleration to a csv files (in addition to already being stored as
RData file)</li>
<li>
<code>dayborder</code> - to decide whether the edge of a day should
be other than midnight.</li>
<li>
<code>iglevels</code> - argument related to intensity gradient
method proposed by A. Rowlands.</li>
<li>
<code>do.report</code> - specify reports that need to be
generated.</li>
<li>
<code>viewingwindow</code> and <code>visualreport</code> - to create
a visual report, this only works when all five parts of GGIR have
successfully run. Note that the visual report was initially developed to
provide something to show to study participants and not for data quality
checking purposes. Over time we have improved the visual report to also
be useful for QC-ing the data. however, some of the scorings as shown in
the visual report are created for the visual report only and may not
reflect the scorings in the main GGIR analyses as reported in the
quantitative csv-reports. Most of our effort in the past 10 years has
gone into making sure that the csv-report are correct, while the
visualreport has mostly been a side project. This is unfortunate and we
hope to find funding in the future to design a new report specifically
for the purpose of QC-ing the anlayses done by GGIR.</li>
<li>
<code>maxRecordingInterval</code> - if specified controls whether
neighboring or overlapping recordings with the same participant ID and
brand are appended at epoch level. This can be useful when the intention
is to monitor behaviour over larger periods of time but accelerometers
only allow for a few weeks of data collection. GGIR will never append or
alter the raw input file, this operation is preformed on the derived
data.</li>
<li>
<code>study_dates_file</code> - if specified trims the recorded data
to the first and last date in which the study took place. This is
relevant for studies that started the recording several days before the
accelerometers were actually worn by participants. This is used on the
top of data_masking_strategy, so that it may be combined with the
strategies in GGIR.</li>
</ul>
</div>
<div class="section level4">
<h4 id="key-arguments-related-to-sleep-analysis">Key arguments related to sleep analysis<a class="anchor" aria-label="anchor" href="#key-arguments-related-to-sleep-analysis"></a>
</h4>
<p>For an explanation on how sleep is detected and the specific role of
the various function arguments see section <a href="#Sleep_analysis">Sleep analysis</a>.</p>
<ul>
<li>Arguments related to configuring the sleep detection algorithm:
<code>anglethreshold</code>, <code>timethreshold</code>,
<code>HASPT.algo</code>, <code>HASIB.algo</code>,
<code>Sadeh_axis</code>, and <code>HASPT.ignore.invalid</code>.</li>
<li>
<code>ignorenonwear</code> if set to TRUE then ignore detected
monitor non-wear periods in the detection of sustained inactivity bouts
to avoid confusion between monitor non-wear time.</li>
<li>If you want to create a visualisation of how sleep period time and
sustained inactivity bouts match throughout a day then consider
arguments <code>do.visual</code>, <code>outliers.only</code>, and
<code>criterror</code>.</li>
<li>If you want to exclude the first and last night from the sleep
analysis then used <code>excludefirstlast</code>.</li>
<li>
<code>def.noc.sleep</code> specifies how the sleep period time
window should be estimated if no sleeplog is used.</li>
<li>
<code>includenightcrit</code> Minimum number of valid hours per
night (24 hour window between noon and noon or 6pm-6pm).</li>
<li>
<code>data_cleaning_file</code> to ginore specific nights for
specific individuals, see also section <a href="#Data_cleaning_file">Data cleaning file</a>.</li>
<li>If you want the sleep analysis to be guided by a sleeplog (diary)
then check out arguments <code>loglocation</code> which specifies the
location of the spreadsheet (csv) with sleep log information. Further,
use arguments <code>colid</code> and <code>coln1</code> to specify the
details of your sleep log structure.</li>
</ul>
<p>GGIR facilitates two possible sleeplog file structures:</p>
<div class="section level5">
<h5 id="basic-sleep-log">Basic sleep log<a class="anchor" aria-label="anchor" href="#basic-sleep-log"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter9_SleepFundamentalsGuiders.html#basic-sleep-log">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level5">
<h5 id="advanced-sleep-log">Advanced sleep log<a class="anchor" aria-label="anchor" href="#advanced-sleep-log"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter9_SleepFundamentalsGuiders.html#advanced-sleep-log">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level4">
<h4 id="key-arguments-related-to-time-use-analysis">Key arguments related to time use analysis<a class="anchor" aria-label="anchor" href="#key-arguments-related-to-time-use-analysis"></a>
</h4>
</div>
<div class="section level4">
<h4 id="published-cut-points-and-how-to-use-them">Published cut-points and how to use them<a class="anchor" aria-label="anchor" href="#published-cut-points-and-how-to-use-them"></a>
</h4>
<p>This section has been rewritten and moved. Please, visit the vignette
<a href="https://cran.r-project.org/package=GGIR" class="external-link">Published cut-points
and how to use them in GGIR</a> for more details on the cut-points
available, how to use them, and some additional reflections on the use
of cut-points in GGIR.</p>
</div>
<div class="section level4">
<h4 id="example-call">Example call<a class="anchor" aria-label="anchor" href="#example-call"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter2_Pipeline.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="configuration-file">Configuration file<a class="anchor" aria-label="anchor" href="#configuration-file"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter2_Pipeline.html#configuration-file-">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="time-for-action-how-to-run-your-analysis">Time for action: How to run your analysis?<a class="anchor" aria-label="anchor" href="#time-for-action-how-to-run-your-analysis"></a>
</h2>
<div class="section level3">
<h3 id="from-the-r-console-on-your-own-desktoplaptop">From the R console on your own desktop/laptop<a class="anchor" aria-label="anchor" href="#from-the-r-console-on-your-own-desktoplaptop"></a>
</h3>
<p>Create an R-script and put the GGIR call in it. Next, you can source
the R-script with the <code>source</code> function in R:</p>
<p><code>source("pathtoscript/myshellscript.R")</code></p>
<p>or use the Source button in RStudio if you use RStudio.</p>
</div>
<div class="section level3">
<h3 id="in-a-cluster">In a cluster<a class="anchor" aria-label="anchor" href="#in-a-cluster"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter2_Pipeline.html#in-a-cluster">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="processing-time">Processing time<a class="anchor" aria-label="anchor" href="#processing-time"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter2_Pipeline.html#processing-time">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level2">
<h2 id="inspecting-the-results">Inspecting the results<a class="anchor" aria-label="anchor" href="#inspecting-the-results"></a>
</h2>
<p>GGIR generates the following types of output.</p>
<ul>
<li>csv-spreadsheets with all the variables you need for physical
activity, sleep and circadian rhythm research</li>
<li>Pdfs with on each page a low resolution plot of the data per file
and quality indicators</li>
<li>R objects with milestone data</li>
<li>Pdfs with a visual summary of the physical activity and sleep
patterns as identified (see example below)</li>
</ul>
<p><img src="reportexample.jpg" class="r-plt" alt="Example visualreport" width="700px"></p>
<div class="section level3">
<h3 class="tabset" id="output-part-2">Output part 2<a class="anchor" aria-label="anchor" href="#output-part-2"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="person-level-summary">Person level summary<a class="anchor" aria-label="anchor" href="#person-level-summary"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="day-level-summary">Day level summary<a class="anchor" aria-label="anchor" href="#day-level-summary"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="data_quality_report">Data_quality_report<a class="anchor" aria-label="anchor" href="#data_quality_report"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 class="tabset" id="output-part-4">Output part 4<a class="anchor" aria-label="anchor" href="#output-part-4"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="night-level-summaries">Night level summaries<a class="anchor" aria-label="anchor" href="#night-level-summaries"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level5">
<h5 id="non-default-variables-in-part-4-csv-report">Non-default variables in part 4 csv report<a class="anchor" aria-label="anchor" href="#non-default-variables-in-part-4-csv-report"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level4">
<h4 id="visualisation_sleep-pdf">visualisation_sleep.pdf<a class="anchor" aria-label="anchor" href="#visualisation_sleep-pdf"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 class="tabset" id="output-part-5">Output part 5<a class="anchor" aria-label="anchor" href="#output-part-5"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="output5">Day level summary<a class="anchor" aria-label="anchor" href="#output5"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="person-level-summary-1">Person level summary<a class="anchor" aria-label="anchor" href="#person-level-summary-1"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 class="tabset" id="output-part-6">Output part 6<a class="anchor" aria-label="anchor" href="#output-part-6"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIRoutput.html#ggir-part-6">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level2">
<h2 id="motivation-and-clarification">Motivation and clarification<a class="anchor" aria-label="anchor" href="#motivation-and-clarification"></a>
</h2>
<p>In this chapter we will try to collect motivations and clarification
behind GGIR which may not have been clear from the existing
publications.</p>
<div class="section level3">
<h3 id="reproducibilty-of-ggir-analyses">Reproducibilty of GGIR analyses<a class="anchor" aria-label="anchor" href="#reproducibilty-of-ggir-analyses"></a>
</h3>
<p>Some tips to increase reproducibility of your findings:</p>
<ol style="list-style-type: decimal">
<li>When you publish your findings, please remember to add the GGIR
package version number. All of GGIR are archived by CRAN and available
from the archive section on the package <a href="https://CRAN.R-project.org/package=GGIR" class="external-link">website</a>. GGIR has
evolved over the years. To get a better understanding of how versions
differ you should check the NEWS sections from the package <a href="https://CRAN.R-project.org/package=GGIR" class="external-link">website</a>
</li>
<li>Report how you configured the accelerometer</li>
<li>Report the study protocol and wear instructions given to the
participants</li>
<li>Report GGIR version</li>
<li>Report how GGIR was used: Share the config.csv file or your R
script</li>
<li>Report how you post-processed / cleaned GGIR output</li>
<li>Report how reported outcomes relate to the specific variable names
in GGIR</li>
</ol>
</div>
<div class="section level3">
<h3 id="auto-calibration">Auto-calibration<a class="anchor" aria-label="anchor" href="#auto-calibration"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter3_QualityAssessment.html#auto-calibration-algorithm">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="non-wear-detection">Non-wear detection<a class="anchor" aria-label="anchor" href="#non-wear-detection"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter3_QualityAssessment.html#non-wear-detection">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="clipping-score">Clipping score<a class="anchor" aria-label="anchor" href="#clipping-score"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter3_QualityAssessment.html#clipping-detection">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="why-collapse-information-to-epoch-level">Why collapse information to epoch level?<a class="anchor" aria-label="anchor" href="#why-collapse-information-to-epoch-level"></a>
</h3>
<p>Although many data points are collected we decide to only work with
aggregated values (e.g. 1 or 5 second epochs) for the following
reasons:</p>
<ol style="list-style-type: decimal">
<li><p>Accelerometers are often used to describe patterns in metabolic
energy expenditure. Metabolic energy expenditure is typically defined
per breath or per minute (indirect calorimetry), per day (room
calorimeter), or per multiple days (doubly labelled water method). In
order to validate our methods against these reference standards we need
to work with a similar time resolution.</p></li>
<li><p>Collapsing the data to epoch summary measures helps to
standardise for differences in sample frequency between
studies.</p></li>
<li><p>There is little evidence that the raw data is an accurate
representation of body acceleration. All scientific evidence on the
validity of accelerometer data has so far been based on epoch
averages.</p></li>
<li><p>Collapsing the data to epoch summary measures may help to average
out different noise levels and make sensor brands more
comparable.</p></li>
</ol>
<div class="section level4">
<h4 id="why-does-the-first-epoch-not-allign-with-the-original-start-of-the-recording">Why does the first epoch not allign with the original start of the
recording<a class="anchor" aria-label="anchor" href="#why-does-the-first-epoch-not-allign-with-the-original-start-of-the-recording"></a>
</h4>
<p>GGIR uses short (default 5 seconds) and long epochs (default 15
minutes). The epochs are aligned to the hour in the day, and to each
other. For example, if a recording starts at 9:52:00 then the GGIR will
work with epochs derived from 10:00:00 onward. If the recording starts
at 10:12 then GGIR will work with epochs derived from 10:15:00
onward.</p>
<p>Motivation:</p>
<ul>
<li>This allows us to have a standardised time grid across recordings to
describe behaviour.</li>
<li>This allows us to calculate behaviour exactly per day or per
specified time interval in a day.</li>
</ul>
<p>If the first 15 minute epochs would start at 9:52 then the next one
would start at 10:07, which makes it impossible to make statement about
behaviour between 10:00 and 13:00.</p>
</div>
</div>
<div class="section level3">
<h3 id="Sleep_analysis">Sleep analysis<a class="anchor" aria-label="anchor" href="#Sleep_analysis"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter8_SleepFundamentalsSibs.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="notes-on-sleep-classification-algorithms-designed-for-count-data">Notes on sleep classification algorithms designed for count
data<a class="anchor" aria-label="anchor" href="#notes-on-sleep-classification-algorithms-designed-for-count-data"></a>
</h4>
<div class="section level5">
<h5 id="replication-of-the-movement-counts-needed">Replication of the movement counts needed<a class="anchor" aria-label="anchor" href="#replication-of-the-movement-counts-needed"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter4_AccMetrics.html#notes-on-implementation-of-zero-crossing-counts">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level5">
<h5 id="missing-information-for-replicating-movement-counts">Missing information for replicating movement counts<a class="anchor" aria-label="anchor" href="#missing-information-for-replicating-movement-counts"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter4_AccMetrics.html#notes-on-implementation-of-zero-crossing-counts">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level5">
<h5 id="an-educated-guess-and-how-you-can-to-help-optimise-the-implementation">An educated guess and how you can to help optimise the
implementation<a class="anchor" aria-label="anchor" href="#an-educated-guess-and-how-you-can-to-help-optimise-the-implementation"></a>
</h5>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter4_AccMetrics.html#notes-on-implementation-of-zero-crossing-counts">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level4">
<h4 id="guiders">Guiders<a class="anchor" aria-label="anchor" href="#guiders"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter9_SleepFundamentalsGuiders.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="daysleepers-nights-workers">Daysleepers (nights workers)<a class="anchor" aria-label="anchor" href="#daysleepers-nights-workers"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter9_SleepFundamentalsGuiders.html#time-window-used-for-sleep-analyses">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="Cleaningcode">Cleaningcode<a class="anchor" aria-label="anchor" href="#Cleaningcode"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter10_SleepAnalysis.html#cleaningcode">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="difference-between-cleaned-and-full-output">Difference between cleaned and full output<a class="anchor" aria-label="anchor" href="#difference-between-cleaned-and-full-output"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter10_SleepAnalysis.html#related-output">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="Data_cleaning_file">Data cleaning file<a class="anchor" aria-label="anchor" href="#Data_cleaning_file"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter10_SleepAnalysis.html#data-cleaning-file">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 id="Waking-waking_or_24_hour">Waking-waking or 24 hour time-use analysis<a class="anchor" aria-label="anchor" href="#Waking-waking_or_24_hour"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter12_TimeUseAnalysis.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="time-series-output-files">Time series output files<a class="anchor" aria-label="anchor" href="#time-series-output-files"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter12_TimeUseAnalysis.html#exporting-time-series">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="day-inclusion-criteria">Day inclusion criteria<a class="anchor" aria-label="anchor" href="#day-inclusion-criteria"></a>
</h4>
<p>The full part 5 output is stored in the <code>results/QC</code>
folder. The default inclusion criteria for days in the cleaned output
from part 5 (stored in the <code>results</code> folder) are:</p>
<ul>
<li>For both MM and WW defined days: The valid (sensor worn) time
fraction of the day needs to be above the fraction specified with
argument <code>includedaycrit.part5</code> (default 2/3).</li>
<li>For MM defined days only: The length of the day needs to be at least
the number of hours as specified by <code>minimum_MM_length.part5</code>
(default 23). Note that if your experiment started and ended in the
middle of the day then this default setting will exclude those
incomplete first and last days. If you think including these days is
still meaningful for your work then adjust the argument
<code>minimum_MM_length.part5</code>.</li>
</ul>
<p><strong>Important notes:</strong></p>
<ul>
<li>No criteria is set for the amount of valid data during the SPT
window, because all we are interested in part 5 is knowing the borders
of the night and we trust that this was sufficiently estimated by part
4. If you disagree then please notice that all the days are included in
the full report available in <code>results/QC</code> folder.</li>
<li>This means that argument <code>includenightcrit</code> as used for
part 4 is not used in part 5.</li>
</ul>
<p>The <code>data_cleaning_file</code> argument discussed in <a href="#Data_cleaning_file">Data_cleaning_file</a> also allows you to
tell GGIR which person(s) and day(s) should be omitted in part 5. The
the day numbers to be excluded should be listed in a column
<code>day_part5</code> as header.</p>
</div>
<div class="section level4">
<h4 id="fragmentation-metrics">Fragmentation metrics<a class="anchor" aria-label="anchor" href="#fragmentation-metrics"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter11_DescribingDataCutPoints.html#behavioural-fragmentation">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<p><strong>Difference between fragments and blocks:</strong></p>
<p>Elsewhere in the part5 we use the term <code>block</code>. A
<code>block</code> is a sequence of epochs that belong to the same
behavioural class. This may sound similar to the definition of a
fragment, but for blocks we distinguish every behavioural class, which
includes the subcategories such as bouted and unbouted behaviour. This
means that variables <code>Nblock_day_total_IN</code> and
<code>Nblock_day_total_LIG</code> are identical to
<code>Nfrag_IN_day</code> and <code>Nfrag_LIPA_day</code>, respectively.
In contrast, for fragments we may group LIPA and MVPA together when
refering to the fragmentation of PA.</p>
<p><strong>Differences with R package ActFrag:</strong></p>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter11_DescribingDataCutPoints.html#differences-with-r-package-actfrag">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 id="why-use-data-metric-enmo-as-default">Why use data metric ENMO as default?<a class="anchor" aria-label="anchor" href="#why-use-data-metric-enmo-as-default"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter4_AccMetrics.html#why-ggir-uses-enmo-as-a-default-">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="what-does-ggir-stand-for">What does GGIR stand for?<a class="anchor" aria-label="anchor" href="#what-does-ggir-stand-for"></a>
</h3>
<p>I wanted a short name and not to spend too much time finding it. The
abbreviation has lost its functional meaning, which is why we now only
use GGIR as the name.</p>
</div>
<div class="section level3">
<h3 id="circadian-rhythm-analyses">Circadian Rhythm analyses<a class="anchor" aria-label="anchor" href="#circadian-rhythm-analyses"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter13_CircadianRhythm.html">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="actigraphs-idle-sleep-mode">ActiGraph’s idle sleep mode<a class="anchor" aria-label="anchor" href="#actigraphs-idle-sleep-mode"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIR.html?q=idle%20slee#actigraphs-idle-sleep-mode">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
<div class="section level4">
<h4 id="time-gap-imputation">Time gap imputation<a class="anchor" aria-label="anchor" href="#time-gap-imputation"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter3_QualityAssessment.html#time-gaps-in-actigraph-gt3x-and-ad-hoc-csv-files">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level4">
<h4 id="the-importance-of-reporting-idle-sleep-mode-usage">The importance of reporting idle.sleep.mode usage<a class="anchor" aria-label="anchor" href="#the-importance-of-reporting-idle-sleep-mode-usage"></a>
</h4>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter3_QualityAssessment.html#time-gaps-in-actigraph-gt3x-and-ad-hoc-csv-files">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
</div>
<div class="section level3">
<h3 id="mx-metrics-minimum-intensity-of-most-active-x-minutes">MX metrics (minimum intensity of most active X minutes)<a class="anchor" aria-label="anchor" href="#mx-metrics-minimum-intensity-of-most-active-x-minutes"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/chapter7_DescribingDataWithoutKnowingSleep.html#sets-of-quantiles-mx-metrics-by-rowlands-et-al-">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="Minimum_recording_duration">Minimum recording duration<a class="anchor" aria-label="anchor" href="#Minimum_recording_duration"></a>
</h3>
<p>This section has been migrated to this <a href="https://wadpac.github.io/GGIR/articles/GGIR.html?q=minimum%20recording#Minimum_recording_duration">section</a>
in the GGIR github-pages, which is now the main documentation resource
for GGIR.</p>
</div>
<div class="section level3">
<h3 id="lux-sensor-data-processing">LUX sensor data processing<a class="anchor" aria-label="anchor" href="#lux-sensor-data-processing"></a>
</h3>
<p>Although GGIR focuses on accelerometer data a few brands come with
LUX data.</p>
<p>In part 1 GGIR calculates the peak lux per long epoch at a default
resolution of 15 minutes, which can be modified with argument
windowsizes. Peak light offers a more reliable estimate of light
exposure per time window compared with taking the average. Further, LUX
is used in the auto-calibration.</p>
<p>In GGIR part 2 we visualise the LUX values in the qc plot. In part 3
and 4 LUX is not used for sleep classification because relation between
light exposure and sleep is weak.</p>
<p>In part 5 we calculate the mean and maximum of the peak LUX per epoch
across all waking hours of the day. Here, the mean (peak per epoch) LUX
would then indicate average light exposure per time segment, while max
peak would indicate the maximum light exposure per day. Further, we
calculate the max and mean peak LUX per most active consecutive X hour
of the day. This is intended to offer an alternative to LUX exposure
during waking hours which relies on correct sleep classification. LUX
exposure during M10 may be seen as an alternative if you are unsure
whether you can trust the sleep classification in your data set.</p>
</div>
</div>
<div class="section level2">
<h2 id="other-resources">Other Resources<a class="anchor" aria-label="anchor" href="#other-resources"></a>
</h2>
<ul>
<li>The <a href="https://CRAN.R-project.org/package=GGIR" class="external-link">GGIR package
manual</a> provides documentation on individual functions.</li>
<li>For general questions about how to use GGIR see the <a href="https://github.com/wadpac/GGIR/discussions" class="external-link">GGIR discussion
page</a>.</li>
<li>For bug reports please post them <a href="https://github.com/wadpac/GGIR/issues" class="external-link">here</a>.</li>
</ul>
</div>
<div class="section level2">
<h2 id="CitingGGIR">Citing GGIR<a class="anchor" aria-label="anchor" href="#CitingGGIR"></a>
</h2>
<p>A correct citation of research software is important to make your
research reproducible and to acknowledge the effort that goes into the
development of open-source software.</p>
<p>This section has been replaced by an updated citation instruction
which you can find via R command <code>citation(package = "GGIR")</code>
and by citing the scientific literature corresponding to the specific
functionality you use as discussed in the GGIR <a href="https://wadpac.github.io/GGIR/">documentation</a>.</p>
<div class="section level3">
<h3 id="copyright-for-ggir-logo">Copyright for GGIR logo<a class="anchor" aria-label="anchor" href="#copyright-for-ggir-logo"></a>
</h3>
<p>The copyright of the GGIR logo lies with Accelting (Almere, The
Netherlands), please contact <a href="mailto:v.vanhees@acceleting.com" class="email">v.vanhees@acceleting.com</a> to ask for permission to use
this logo.</p>
<p><img src="GGIR-MASTERLOGO-RGB.png" class="r-plt" alt="GGIR logo" width="60%" style="border: 0; padding:20px"></p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Vincent T van Hees, Jairo H Migueles, Medical Research Council UK, Accelting, French National Research Agency.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
